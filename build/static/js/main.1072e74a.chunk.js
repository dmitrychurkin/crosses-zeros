(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){e.exports=n.p+"static/media/mainImg.9929ac8c.png"},225:function(e,t,n){e.exports=n(411)},230:function(e,t,n){},334:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"crossZeroApp",function(){return Ee});var o=n(0),a=n.n(o),i=n(40);n(230),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(416),s=n(414),u=n(32),l=n(22),p=n(131),m=n.n(p),f=n(42),d=n.n(f),h=n(15),v=n(23),y=n(26),w=n(24),b=n(27),g=n(77),E=n.n(g),O=n(124),j=n(417),T=n(3),x=n(125),k=n.n(x),P=function(){return a.a.createElement("svg",{className:"weapon",viewBox:"0 0 150 150",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{style:{animation:"2s ease-out forwards draw"},d:"M20 130 130 20",stroke:"red"}),a.a.createElement("path",{style:{animation:"2s ease-out 1s forwards draw"},d:"M20 20 130 130",stroke:"red"}))},C=function(){return a.a.createElement("svg",{className:"weapon",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{style:{animation:"2s ease-out forwards draw"},d:"M 100,100 m -75, 0 a 75,75 0 1,0 150,0 a 75,75 0 1,0 -150,0",stroke:"blue"}))},S=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(h.a)(this,e),this.index=t,this.crosses=n,this.zeros=!this.crosses};function B(e){for(var t=Array(9).fill(void 0),n=0;n<e.length;n++){var r=e[n];for(var o in r)r.hasOwnProperty(o)&&"undefined"===typeof t[o]&&"undefined"!==typeof r[o]&&(t[o]=r[o])}return t}function M(e,t){var n=function(t){var n=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],a=0;for(var i in o)o.hasOwnProperty(i)&&"undefined"!==typeof o[i]&&(o[i]===t?a++:a--);2===a&&n.push(r)}return n}(e,t);if(n.length){var r=Z(n.length),o=e[n[r]];for(var a in o)if(o.hasOwnProperty(a)&&"undefined"===typeof o[a])return+a}},r=!t,o=n(r);if("number"===typeof o)return o;if("number"===typeof(o=n(t)))return o;var a=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],a=[],i=0,c=0;for(var s in o)o.hasOwnProperty(s)&&("undefined"===typeof o[s]?a.push(s):o[s]===t?i++:c++);1===i&&0===c&&n.push({indexOfWinPosition:r,computerPossibleCellsToSelect:[].concat(a)})}return n}(e,r);if(a.length){var i=a[Z(a.length)].computerPossibleCellsToSelect;return+(o=i[Z(i.length)])}var c=function(e){var t=[];return B(e).forEach(function(e,n){"undefined"===typeof e&&t.push(n)}),t}(e);return t&&c.includes(4)?4:+(o=c[Z(c.length)])}function N(e){for(var t=0;t<e.length;t++){var n=e[t],r=0,o=0;for(var a in n)if(n.hasOwnProperty(a)&&"undefined"!==typeof n[a]){if(n[a]?r++:o++,3===r)return new S(t);if(3===o)return new S(t,!1)}}}function A(e){var t=N(e),n=B(e);return t instanceof S||n.every(function(e){return"boolean"===typeof e})}function R(e,t){return"boolean"===typeof B(e)[t]}function Z(e){return Math.floor(Math.random()*e)}var I={animation:"2s ease-out 2s forwards draw"},W=function(e){function t(){return Object(h.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.winResult.crosses;if("boolean"===typeof e){var t=this.props,n=t.counts,r=n.cross,o=n.zero;(0,t.commitCounts)(e?{cross:r+1}:{zero:o+1})}}},{key:"render",value:function(){var e=this.props.winResult.index;return"number"===typeof e?a.a.createElement("svg",{className:"line",style:{position:"absolute"},xmlns:"http://www.w3.org/2000/svg"},1===e?a.a.createElement("path",{style:I,d:"M20 450 450 20"}):2===e?a.a.createElement("path",{style:I,d:"M20 20 450 450"}):3===e?a.a.createElement("path",{style:I,d:"M20 80 450 80"}):4===e?a.a.createElement("path",{style:I,d:"M20 235 450 235"}):5===e?a.a.createElement("path",{style:I,d:"M20 390 450 390"}):6===e?a.a.createElement("path",{style:I,d:"M80 20 80 450"}):7===e?a.a.createElement("path",{style:I,d:"M235 20 235 450"}):a.a.createElement("path",{style:I,d:"M390 20 390 450"})):null}}]),t}(o.Component),_=function(e){function t(){return Object(h.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.crossZeroApp,n=t.computerType,r=t.userType,o=e.computerShot,a=e.history;"undefined"!==typeof r&&"undefined"!==typeof n?n&&o():a.replace("/")}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.winResult,r=e.fields,o=e.userShot,i=e.resetGame,c=e.commitCounts,s=e.fieldSelected,u=e.crossZeroApp,l=u.showResetBtn,p=u.winPositions,m=u.counts;return a.a.createElement(T.i,{container:!0,justify:"center",alignItems:"center"},a.a.createElement(T.i,{item:!0},a.a.createElement(T.k,{className:t.countTitle,variant:"h4",component:"h2"},"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0447\u0451\u0442:"),a.a.createElement(T.i,{style:{paddingBottom:"10px"},container:!0,justify:"center",alignItems:"center"},a.a.createElement(T.k,{style:{color:"red"},variant:"h1",component:"h2"},m.cross),a.a.createElement(T.k,{variant:"h1",component:"h2"},":"),a.a.createElement(T.k,{style:{color:"blue"},variant:"h1",component:"h2"},m.zero))),a.a.createElement(T.i,{item:!0},a.a.createElement(T.j,{className:t.mainLayout},n?a.a.createElement(W,{commitCounts:c,winResult:n,counts:m}):null,r.map(function(e,n){return a.a.createElement("div",{className:t.cellLayout,style:{border:"".concat(3,"px ").concat("solid grey")},key:n},a.a.createElement(T.i,{container:!0,justify:"center",alignItems:"center",onClick:function(){return o(n)},className:t.innerGrid,style:{cursor:s(p,n)?"not-allowed":"pointer"}},"undefined"===typeof e?null:e?a.a.createElement(P,null):a.a.createElement(C,null)))}))),l?a.a.createElement(T.i,{item:!0},a.a.createElement(T.h,{in:l},a.a.createElement(T.g,{onClick:i,variant:"extended",color:"primary","aria-label":"Add",className:t.margin},a.a.createElement(k.a,{className:t.extendedIcon}),"\u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e"))):null)}}]),t}(o.Component),z=Object(l.withStyles)(function(e){return{margin:{margin:e.spacing.unit,marginTop:"30px"},extendedIcon:{marginRight:e.spacing.unit},mainLayout:{display:"flex",flexFlow:"row wrap",width:"".concat(468,"px"),height:"".concat(468,"px"),alignItems:"center",alignContent:"center",alignSelf:"center",border:"".concat(3,"px ").concat("solid grey"),position:"relative"},cellLayout:{width:"".concat(150,"px"),height:"".concat(150,"px")},innerGrid:{width:"100%",height:"100%"},countTitle:{fontFamily:"'Coiny', cursive",color:"#03A9F4"}}})(_),L="SELECT_TYPE",G="BLOCK_USER",H="UNBLOCK_USER",D="COMMIT_SELECTION",F="RESET_GAME",U="SHOW_RESET_BTN",J="COMMIT_COUNTS";function K(){return{type:H,userBlocked:!1}}function V(e,t){return{type:D,selectedNumber:e,weaponType:t}}var Y=Object(u.b)(function(e,t){var n=t.crossZeroApp.winPositions;return{winResult:N(n),fields:B(n),fieldSelected:R}},function(e,t){var n=t.crossZeroApp,r=n.winPositions,o=n.userType,a=n.userBlocked;A(r)&&setTimeout(function(){e(function(e,t){A(t().crossZeroApp.winPositions)&&e({type:U,showResetBtn:!0})})},3e3);var i=function(){var e=Object(O.a)(E.a.mark(function e(t,n){var r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),o=r.crossZeroApp.winPositions,t({type:G,userBlocked:!0}),!A(o)){e.next=5;break}return t(K()),e.abrupt("return");case 5:return e.next=7,new Promise(function(e){return setTimeout(e,2e3)});case 7:return e.next=9,t(function(e,t){var n=t().crossZeroApp,r=n.winPositions,o=n.userType,a=n.computerType;return e(V(M(r,o),a)),new Promise(function(e){return setTimeout(e,2e3)})});case 9:t(K());case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),c=function(e,t){var n=t().crossZeroApp.computerType;return e({type:F}),e({type:U,showResetBtn:!1}),n?e(i):Promise.resolve()};return{computerShot:function(){return e(i)},userShot:function(t){a||R(r,t)||A(r)||(e(V(t,o)),e(i))},resetGame:function(){return e(c)},commitCounts:function(t){return e(function(e){return{type:J,counts:e}}(t))}}})(z),$=Object(j.a)(Y),q=function(e){function t(){return Object(h.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"_proceedToGame",value:function(){var e=this.props,t=e.history,n=e.timeout;setTimeout(function(){t.replace("/game",null)},n)}},{key:"componentDidMount",value:function(){this._proceedToGame()}},{key:"render",value:function(){return a.a.createElement(T.i,{container:!0,justify:"center",alignItems:"center"},a.a.createElement(T.f,{size:100,color:"secondary"}))}}]),t}(o.Component);q.defaultProps={timeout:2500};var Q=Object(j.a)(q),X=n(13),ee=n(129),te=n.n(ee),ne=n(130),re=n.n(ne),oe=n(413),ae=n(128),ie=n.n(ae),ce=function(e){var t=e.navigateTo;return function(e){return a.a.createElement(oe.a,Object.assign({to:t},e))}}({navigateTo:"/loading"}),se=Object(l.withStyles)(function(e){return{header:{marginBottom:0,paddingBottom:0},fullWidth:Object(X.a)({width:"100%"},e.mixins.gutters(),{paddingBottom:2*e.spacing.unit}),media:{height:"60%",backgroundSize:"contain"},actions:{display:"flex",justifyContent:"space-around"}}})(function(e){var t=e.classes,n=e.onSelectWeapon;return a.a.createElement(T.a,{className:t.fullWidth},a.a.createElement(T.d,{className:t.header,titleTypographyProps:{style:{fontFamily:"'Coiny', cursive",animation:"wow 3s linear infinite alternate",fontSize:"2rem"}},component:"h1",title:"Crosses & Zeroes"}),a.a.createElement(T.e,{className:t.media,image:ie.a,title:"Crosses & Zeroes"}),a.a.createElement(T.c,null,a.a.createElement(T.k,{variant:"h4",component:"h2"},"\u0412\u044b\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u0451 \u043e\u0440\u0443\u0436\u0438\u0435!")),a.a.createElement(T.b,{className:t.actions},a.a.createElement(T.g,{onClick:function(){return n(!1)},component:ce,color:"primary","aria-label":"Zero"},a.a.createElement(te.a,null)),a.a.createElement(T.g,{onClick:function(){return n(!0)},component:ce,color:"secondary","aria-label":"Cross"},a.a.createElement(re.a,null))))}),ue=function(e){function t(){return Object(h.a)(this,t),Object(y.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.selectWeapon,r=e.crossZeroApp;switch(t){case"game":return a.a.createElement($,{crossZeroApp:r});case"loading":return a.a.createElement(Q,null);default:return a.a.createElement(se,{onSelectWeapon:n})}}}]),t}(o.Component);ue.defaultProps={url:""};var le,pe=Object(u.b)(function(e){return{crossZeroApp:e.crossZeroApp}},function(e){return{selectWeapon:function(t){return e({type:L,selectionType:t})}}})(ue),me=(n(334),"".concat(600,"px")),fe={fullHeight:{minHeight:"100%",minWidth:"533px",backgroundColor:"rgb(250, 235, 215)"},center:{textAlign:"center",minHeight:me,padding:"10px",minWidth:"533px"}},de=Object(l.createMuiTheme)({palette:{primary:{main:m.a[500]}},typography:{useNextVariants:!0}}),he=Object(l.withStyles)(fe)(function(e){var t=e.classes,n=e.match.params.url;return a.a.createElement(l.MuiThemeProvider,{theme:de},a.a.createElement(d.a,{className:t.fullHeight,justify:"center",container:!0},a.a.createElement(d.a,{container:!0,style:{minHeight:n?"unset":me},className:t.center,item:!0,justify:"center",xs:5},a.a.createElement(pe,{url:n}))))}),ve=function(e){var t=e.store;return a.a.createElement(u.a,{store:t},a.a.createElement(c.a,null,a.a.createElement(s.a,{path:"/:url?",component:he})))},ye=n(28),we=n(415),be=n(132),ge=n(14),Ee=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}}({showResetBtn:!1,counts:{cross:0,zero:0},userBlocked:!1,userType:void 0,computerType:void 0,winPositions:[{2:void 0,5:void 0,8:void 0},{2:void 0,4:void 0,6:void 0},{0:void 0,4:void 0,8:void 0},{0:void 0,1:void 0,2:void 0},{3:void 0,4:void 0,5:void 0},{6:void 0,7:void 0,8:void 0},{0:void 0,3:void 0,6:void 0},{1:void 0,4:void 0,7:void 0}]},(le={},Object(ge.a)(le,L,function(e,t){var n=t.selectionType;t.weaponType;return Object(X.a)({},e,{userType:n,computerType:!n})}),Object(ge.a)(le,G,Oe),Object(ge.a)(le,H,Oe),Object(ge.a)(le,D,function(e,t){var n=t.selectedNumber,r=t.weaponType;return Object(X.a)({},e,{winPositions:e.winPositions.map(function(e){return e.hasOwnProperty(n)?Object(X.a)({},e,Object(ge.a)({},n,r)):e})})}),Object(ge.a)(le,F,function(e){return Object(X.a)({},e,{winPositions:e.winPositions.map(function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=void 0);return t})})}),Object(ge.a)(le,U,je),Object(ge.a)(le,"HIDE_RESET_BTN",je),Object(ge.a)(le,J,function(e,t){var n=t.counts;return Object(X.a)({},e,{counts:Object(X.a)({},e.counts,n)})}),le));function Oe(e,t){var n=t.userBlocked;return Object(X.a)({},e,{userBlocked:n})}function je(e,t){var n=t.showResetBtn;return Object(X.a)({},e,{showResetBtn:n})}var Te=function(e){var t=[be.a],n=[ye.a.apply(void 0,t)],o=ye.d.apply(void 0,n),a=Object(ye.c)(Object(X.a)({},r,{form:we.a}));return Object(ye.e)(a,e,o)}();Object(i.render)(a.a.createElement(ve,{store:Te}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[225,2,1]]]);
//# sourceMappingURL=main.1072e74a.chunk.js.map